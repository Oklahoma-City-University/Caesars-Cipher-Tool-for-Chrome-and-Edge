<html>
<head>
  <title>Caesar Cipher Tool</title>
</head>
<body>
  <h1>Caesar Cipher Tool</h1>
  <p>Enter the message you want to encrypt below:</p>
  <textarea id="inputField" rows="4" cols="50"></textarea>
  <br>
  <label for="numbers">Enter the encryption key (0-25):</label>
  <input type="number" id="numbers" min="0" max="25" value="0">
  <br>
  <button id="encryptButton">Encrypt</button>
  <button id="decryptButton">Decrypt</button>
  <button id="copyToClipboardButton">Copy to Clipboard</button>
  <button id="clearButton">Clear</button>
  <br>
  <p>Encrypted message:</p>
  <textarea id="outputField" rows="4" cols="50" readonly></textarea>

  <script>
    function encrypt(key) {
      let alphabet = 'abcdefghijklmnopqrstuvwxyz';
      let alphabetCAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

      let user_input = document.getElementById("inputField").value;
      let new_str = "";
      
      if (key < 0 || key > 25) {
        alert("Invalid key. Please enter a number between 0 and 25.");
        return;
      }

      for (let i = 0; i < user_input.length; i++) {
        letter = user_input[i]
        if (alphabet.includes(letter)) {
          new_str += alphabet[((alphabet.indexOf(letter) + Number(key)) % 26)];
        }
        else if (alphabetCAP.includes(letter)) {
          new_str += alphabetCAP[((alphabetCAP.indexOf(letter) + key) % 26)];
        }
        else {
          new_str += letter;
        }
      }
      document.getElementById("outputField").value = new_str;
    }

    function copyClipboard() {
      navigator.clipboard.writeText(document.getElementById("outputField").value);
      alert("Copied to clipboard!");
    }

    document.getElementById("encryptButton").addEventListener("click", function() {
      encrypt(Number(document.getElementById("numbers").value));
    });
    
    document.getElementById("decryptButton").addEventListener("click", function() {
      encrypt(26 - Number(document.getElementById("numbers").value));
    });
    
    document.getElementById("copyToClipboardButton").addEventListener("click", copyClipboard);

    document.getElementById("clearButton").addEventListener("click", function() {
      document.getElementById("inputField").value = "";
      document.getElementById("numbers").value = 0;
      document.getElementById("outputField").value = "";
    });
  </script>
</body>
</html>
